/*
 * moteur.h
 *
 *  Created on: Dec 4, 2024
 *      Author: ENSEA
 */

#ifndef MOTEUR_MOTEUR_H_
#define MOTEUR_MOTEUR_H_

#include "stm32G4xx_hal.h"

#define MOTOR_LEFT   0
#define MOTOR_RIGHT  1

void init_motors(void);

void forward_r(uint16_t alpha);
void forward_l(uint16_t alpha);
void reverse_r(uint16_t alpha);
void reverse_l(uint16_t alpha);
void stop_r(void);
void stop_l(void);

// Fonctions pour les encodeurs
int16_t get_encoder_position(uint8_t motor);  // Lire la position de l'encodeur
void reset_encoder(uint8_t motor);            // RÃ©initialiser l'encodeur

// Nouvelle fonction : Calculer la vitesse
float calculate_motor_speed(uint8_t motor, uint32_t delta_time_ms, uint16_t encoder_resolution);

#endif /* MOTEUR_MOTEUR_H_ */
