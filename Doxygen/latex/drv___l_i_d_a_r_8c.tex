\doxysection{Référence du fichier drv\+\_\+\+LIDAR.\+c}
\hypertarget{drv___l_i_d_a_r_8c}{}\label{drv___l_i_d_a_r_8c}\index{drv\_LIDAR.c@{drv\_LIDAR.c}}


Implémentation du driver LIDARX4.  


{\ttfamily \#include "{}drv\+\_\+\+LIDAR.\+h"{}}\newline
{\ttfamily \#include "{}stdio.\+h"{}}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
\doxysubsubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{group___driver___functions_gaae13282156665437c96f895dd45bc954}{lidar\+\_\+begin}} ()
\begin{DoxyCompactList}\small\item\em Démarre le scan LIDAR. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___driver___functions_ga4f4948353e434a11b465fb1a4c8a309c}{lidar\+\_\+end}} ()
\begin{DoxyCompactList}\small\item\em Arrête le scan LIDAR. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___driver___functions_ga70ca3b7f361c8b0e44f40e2a9210a93e}{lidar\+\_\+query\+\_\+status}} ()
\begin{DoxyCompactList}\small\item\em Interroge le statut du LIDAR. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___driver___functions_gacb4320bb6f0785d3ca86bdd26b4c3a11}{lidar\+\_\+check\+\_\+health}} ()
\begin{DoxyCompactList}\small\item\em Vérifie l\textquotesingle{}état de santé du LIDAR. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___driver___functions_ga14502162256fc53461967a9ceba8a0a4}{lidar\+\_\+reset}} ()
\begin{DoxyCompactList}\small\item\em Réinitialise le LIDAR. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___driver___functions_gae30698586cf1f2ad080580688d3fd323}{lidar\+\_\+parse\+\_\+data}} ()
\begin{DoxyCompactList}\small\item\em Parse les données brutes en distances et angles. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group___driver___functions_gaf3225e50d67930032f62d9dc757668f2}{calc\+\_\+avg\+\_\+dist}} (int debut, int fin)
\begin{DoxyCompactList}\small\item\em Calcule la distance moyenne sur un segment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___driver___functions_gafae7be7b4627bd1a071c68283ff25cbb}{smooth\+\_\+data}} ()
\begin{DoxyCompactList}\small\item\em Lisse les données par filtrage adaptatif. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___driver___functions_ga22fa86951e4167e303013997448d1d3f}{detect\+\_\+objects}} ()
\begin{DoxyCompactList}\small\item\em Détecte les objets dans le scan. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{group___global___buffers_gaef98403db56f0b54d9d86a760349db2d}{g\+\_\+raw\+\_\+data}} \mbox{[}\mbox{\hyperlink{group___buffer___sizes_ga6b20d41d6252e9871430c242cb1a56e7}{BUFFER\+\_\+\+SIZE}}\mbox{]}
\item 
uint8\+\_\+t \mbox{\hyperlink{group___global___buffers_gaf2b37f4bcc4fed1c94b8f76d514f319d}{g\+\_\+status\+\_\+data}} \mbox{[}\mbox{\hyperlink{group___buffer___sizes_ga8c8dd361b7cfe9a2950071de99c77377}{INFO\+\_\+\+BUFF\+\_\+\+SIZE}}\mbox{]}
\item 
uint8\+\_\+t \mbox{\hyperlink{group___global___buffers_gaae5aae25c1a3b5581c8821bc34e63944}{g\+\_\+diag\+\_\+data}} \mbox{[}\mbox{\hyperlink{group___buffer___sizes_gacc276d20f0ac6e4f76844461d22c0455}{HEALTH\+\_\+\+BUFF\+\_\+\+SIZE}}\mbox{]}
\item 
uint8\+\_\+t \mbox{\hyperlink{group___global___buffers_ga099671b7af4477d131cbdad2df08dff1}{g\+\_\+packet\+\_\+data}} \mbox{[}\mbox{\hyperlink{group___buffer___sizes_gaebdc7d8ca8e25ed8efc90bb88ef7ef5b}{PACKET\+\_\+\+SIZE}}\mbox{]}
\item 
int \mbox{\hyperlink{group___processing___data_gaf62649b70f5730856ee43d1a1b7a1a07}{g\+\_\+scan\+\_\+data}} \mbox{[}\mbox{\hyperlink{group___buffer___sizes_ga8bb1e974805d788a45e5b153bb468d61}{SCAN\+\_\+\+SIZE}}\mbox{]}
\item 
int \mbox{\hyperlink{group___processing___data_gabb678d3500765f398c8c484dcc1d6131}{g\+\_\+clean\+\_\+data}} \mbox{[}\mbox{\hyperlink{group___buffer___sizes_ga8bb1e974805d788a45e5b153bb468d61}{SCAN\+\_\+\+SIZE}}\mbox{]}
\item 
int \mbox{\hyperlink{group___processing___data_gaec6b9c72fbd5ad668a1f616857991306}{g\+\_\+current\+\_\+idx}} = 0
\item 
int \mbox{\hyperlink{group___object___detection_ga3d7e014466e671bc6194aa91b663b6d7}{g\+\_\+object\+\_\+angles}} \mbox{[}\mbox{\hyperlink{group___buffer___sizes_gacdc7844fbd4d45737d4aa56834d37829}{MAX\+\_\+\+OBJECTS}}\mbox{]}
\item 
int \mbox{\hyperlink{group___object___detection_gab95b347e1089d477ba25ef330fc69abe}{g\+\_\+object\+\_\+distances}} \mbox{[}\mbox{\hyperlink{group___buffer___sizes_gacdc7844fbd4d45737d4aa56834d37829}{MAX\+\_\+\+OBJECTS}}\mbox{]}
\item 
int \mbox{\hyperlink{group___object___detection_ga6d0e5d10521cc583b65291b262e36ba3}{g\+\_\+object\+\_\+points}} \mbox{[}\mbox{\hyperlink{group___buffer___sizes_gacdc7844fbd4d45737d4aa56834d37829}{MAX\+\_\+\+OBJECTS}}\mbox{]}
\item 
int \mbox{\hyperlink{group___object___detection_ga1678b34476cf28d52ee5e016357bbe53}{g\+\_\+object\+\_\+count}} = 0
\item 
uint16\+\_\+t \mbox{\hyperlink{group___frame___data_ga57bd31d28abc158ca1d7128200345e7c}{g\+\_\+frame\+\_\+header}}
\item 
uint16\+\_\+t \mbox{\hyperlink{group___frame___data_gaaf31cf62fa6a02c8b87f84d1f51ee183}{g\+\_\+frame\+\_\+length}}
\item 
uint8\+\_\+t \mbox{\hyperlink{group___frame___data_ga375aff5565d519cb7b9accf09c17f501}{g\+\_\+frame\+\_\+type}}
\item 
uint16\+\_\+t \mbox{\hyperlink{group___frame___data_ga0db59ac8813f68ab00fb4090903ed39e}{g\+\_\+start\+\_\+angle}} = 0
\item 
uint16\+\_\+t \mbox{\hyperlink{group___frame___data_gaba28155333139df4763dee45a6f781ae}{g\+\_\+end\+\_\+angle}} = 0
\item 
uint16\+\_\+t \mbox{\hyperlink{group___frame___data_ga7c8f8416bad4cb2c2edb22fe4914cb86}{g\+\_\+checksum}}
\item 
int(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group___communication___callbacks_ga3cd26e048feff23ed1766512a00d86d8}{uart\+\_\+transmit}} )(uint8\+\_\+t \texorpdfstring{$\ast$}{*}p\+\_\+data, uint16\+\_\+t size) = NULL
\item 
int(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group___communication___callbacks_ga2a8524a5dc75afddbbd27b08abf10f7c}{uart\+\_\+it\+\_\+transmit}} )(uint8\+\_\+t \texorpdfstring{$\ast$}{*}p\+\_\+data, uint16\+\_\+t size) = NULL
\item 
int(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group___communication___callbacks_ga4e363d42ae599e6e80941b43bbf278c9}{uart\+\_\+dma\+\_\+transmit}} )(uint8\+\_\+t \texorpdfstring{$\ast$}{*}p\+\_\+data, uint16\+\_\+t size) = NULL
\item 
int(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group___communication___callbacks_ga650949b66417c5dea7816273b145e111}{uart\+\_\+poll\+\_\+receive}} )(uint8\+\_\+t \texorpdfstring{$\ast$}{*}p\+\_\+data, uint16\+\_\+t size) = NULL
\item 
int(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group___communication___callbacks_ga2a636afe102496224cbb59c4a4f8498e}{uart\+\_\+it\+\_\+receive}} )(uint8\+\_\+t \texorpdfstring{$\ast$}{*}p\+\_\+data, uint16\+\_\+t size) = NULL
\item 
int(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group___communication___callbacks_ga5eba61a3e61007d52aa3e255cf7f1a49}{uart\+\_\+dma\+\_\+receive}} )(uint8\+\_\+t \texorpdfstring{$\ast$}{*}p\+\_\+data, uint16\+\_\+t size) = NULL
\item 
uint16\+\_\+t \mbox{\hyperlink{drv___l_i_d_a_r_8c_ae63ff3ac66611014b6604cd5f4b7495f}{g\+\_\+\+PH}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{drv___l_i_d_a_r_8c_a202fec40a16952027ad95f08700e97de}{g\+\_\+\+CT}} = 0
\item 
uint8\+\_\+t \mbox{\hyperlink{drv___l_i_d_a_r_8c_a56c5f41cebc683c9f0ecb7e80ece2280}{g\+\_\+\+LSN}} = 0
\item 
int \mbox{\hyperlink{drv___l_i_d_a_r_8c_a83bc47484591e20d4d93d0ebf7b9837f}{g\+\_\+obj\+\_\+count}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Implémentation du driver LIDARX4. 



\doxysubsection{Documentation des variables}
\Hypertarget{drv___l_i_d_a_r_8c_a202fec40a16952027ad95f08700e97de}\index{drv\_LIDAR.c@{drv\_LIDAR.c}!g\_CT@{g\_CT}}
\index{g\_CT@{g\_CT}!drv\_LIDAR.c@{drv\_LIDAR.c}}
\doxysubsubsection{\texorpdfstring{g\_CT}{g\_CT}}
{\footnotesize\ttfamily \label{drv___l_i_d_a_r_8c_a202fec40a16952027ad95f08700e97de} 
uint8\+\_\+t g\+\_\+\+CT = 0}

\Hypertarget{drv___l_i_d_a_r_8c_a56c5f41cebc683c9f0ecb7e80ece2280}\index{drv\_LIDAR.c@{drv\_LIDAR.c}!g\_LSN@{g\_LSN}}
\index{g\_LSN@{g\_LSN}!drv\_LIDAR.c@{drv\_LIDAR.c}}
\doxysubsubsection{\texorpdfstring{g\_LSN}{g\_LSN}}
{\footnotesize\ttfamily \label{drv___l_i_d_a_r_8c_a56c5f41cebc683c9f0ecb7e80ece2280} 
uint8\+\_\+t g\+\_\+\+LSN = 0}

\Hypertarget{drv___l_i_d_a_r_8c_a83bc47484591e20d4d93d0ebf7b9837f}\index{drv\_LIDAR.c@{drv\_LIDAR.c}!g\_obj\_count@{g\_obj\_count}}
\index{g\_obj\_count@{g\_obj\_count}!drv\_LIDAR.c@{drv\_LIDAR.c}}
\doxysubsubsection{\texorpdfstring{g\_obj\_count}{g\_obj\_count}}
{\footnotesize\ttfamily \label{drv___l_i_d_a_r_8c_a83bc47484591e20d4d93d0ebf7b9837f} 
int g\+\_\+obj\+\_\+count = 0}

\Hypertarget{drv___l_i_d_a_r_8c_ae63ff3ac66611014b6604cd5f4b7495f}\index{drv\_LIDAR.c@{drv\_LIDAR.c}!g\_PH@{g\_PH}}
\index{g\_PH@{g\_PH}!drv\_LIDAR.c@{drv\_LIDAR.c}}
\doxysubsubsection{\texorpdfstring{g\_PH}{g\_PH}}
{\footnotesize\ttfamily \label{drv___l_i_d_a_r_8c_ae63ff3ac66611014b6604cd5f4b7495f} 
uint16\+\_\+t g\+\_\+\+PH = 0}

